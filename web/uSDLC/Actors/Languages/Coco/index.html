<div id="pageTitle" class="editable"><h1>
	Coco</h1>
<h2>
	When coffeescript is not enough</h2>
<h2>
	&nbsp;</h2>
</div>

<div id="s1" class="editable section" contextmenu="section"><p>
	Coco is a derivative of coffeescript for those that like to live on the edge.</p>
</div><div id="s3" class="editable section" contextmenu="section"><p>
	&nbsp;</p>
<div>
	a = 1</div>
<div>
	func -&gt; a = 2</div>
<div>
	func()</div>
<div>
	assert a is 1</div>
<div>
	func -&gt; a := 3</div>
<div>
	func()</div>
<div>
	assert a is 3</div>
<div>
	&nbsp;</div>
<div>
	assert +'3' is 3</div>
<div>
	assert !!'true'</div>
<div>
	&nbsp;</div>
<div>
	x = (a || 1, b || 2) -&gt; a*b</div>
<div>
	assert x('',3) == 3</div>
<div>
	assert x(3) == 6</div>
<div>
	&nbsp;</div>
<div>
	y = [8,9]</div>
<div>
	x[1,0] = y</div>
<div>
	assert x == [9,8]</div>
<div>
	y = {a:1, b:2}</div>
<div>
	x{a,b} = y</div>
<div>
	assert x.a is 1 and x.b is 2</div>
<div>
	&nbsp;</div>
<div>
	func = ({a,b}: o) -&gt; assert a == o.a and b == o.b</div>
<div>
	func({a:1, b:2})</div>
<div>
	&nbsp;</div>
<div>
	a = 3</div>
<div>
	a? = aa</div>
<div>
	assert a is 3</div>
<div>
	aa = 5</div>
<div>
	a? = aa</div>
<div>
	assert a is 5</div>
<div>
	&nbsp;</div>
<div>
	list = [1,2,3]</div>
<div>
	assert list.1 == 1 and list."2" == 2 and list.(3) == 3</div>
<div>
	&nbsp;</div>
<div>
	a = 'fred'</div>
<div>
	a.=toUpperCase()</div>
<div>
	assert a == 'FRED'</div>
<div>
	&nbsp;</div>
<div>
	result = [2 5 9]map 42~toString&nbsp;</div>
<div>
	assert result = ['101010', '132', '46']</div>
<div>
	&nbsp;</div>
<div>
	a = [1,2]</div>
<div>
	a[*] = 3</div>
<div>
	assert a == [1,2,3]</div>
<div>
	&nbsp;</div>
<div>
	root = {}</div>
<div>
	root.@obj.a = 1</div>
<div>
	root.@obj.@@array[0] = 3</div>
<div>
	assert root == {obj:{a:1,array:[0]}}</div>
<div>
	&nbsp;</div>
<div>
	setPoint = (point, point.x, point.y, point.z) -&gt; point</div>
<div>
	p = setpoint {} 2 3 5</div>
<div>
	assert p == {x:2,y:3,z:5}</div>
<div>
	&nbsp;</div>
<div>
	function equal a, b then a is b</div>
<div>
	assert not equal(1,2)</div>
<div>
	~function bound then this</div>
<div>
	assert bound() == this</div>
<div>
	&nbsp;</div>
<div>
	double = -&gt; it * 2</div>
<div>
	assert double(2) == 4</div>
<div>
	&nbsp;</div>
<div>
	np = -&gt; 'no parameters'</div>
<div>
	result = do np</div>
<div>
	assert result is 'no parameters'</div>
<div>
	assert np! == 'no parameters'</div>
<div>
	notFunc = 12</div>
<div>
	assert notFunc?! == void</div>
<div>
	&nbsp;</div>
<div>
	a = 1</div>
<div>
	b = 1</div>
<div>
	let (a = b) then assert a is b</div>
<div>
	&nbsp;</div>
<div>
	o = {a:1,b:2}</div>
<div>
	with o then assert a is 1 and b is 2</div>
<div>
	&nbsp;</div>
<div>
	p1 = new</div>
<div>
	&nbsp; @x = 5</div>
<div>
	assert p1.x is 5</div>
<div>
	&nbsp;</div>
<div>
	inner = (a, b) -&gt; a * b</div>
<div>
	outer = (a, b) -&gt; inner ...</div>
<div>
	assert outer(3,4) == 12</div>
<div>
	&nbsp;</div>
<div>
	d = -&gt; 15</div>
<div>
	a = (b,c) -&gt; d</div>
<div>
	r = &nbsp;a 3, 4 .d!</div>
<div>
	assert r == 15</div>
<div>
	&nbsp;</div>
<div>
	class P</div>
<div>
	class C extends P</div>
<div>
	&nbsp; /* constructor */</div>
<div>
	&nbsp; -&gt; super ...</div>
<div>
	&nbsp; /* properties */</div>
<div>
	&nbsp; member: 'U'</div>
<div>
	&nbsp; method: -&gt; super @member, B.static()</div>
<div>
	&nbsp; /* any code */</div>
<div>
	&nbsp; $private = 42</div>
<div>
	&nbsp; @static = -&gt; private</div>
<div>
	assert C.displayName == 'C'</div>
<div>
	Bound = class</div>
<div>
	&nbsp; (@name) ~&gt;</div>
<div>
	&nbsp;</div>
<div>
	number = 0</div>
<div>
	for i from 2 to 5 then number += i</div>
<div>
	assert number is 14</div>
<div>
	&nbsp;</div>
<div>
	number = 0</div>
<div>
	for i from 2 til 5 then number += i</div>
<div>
	assert number is 9</div>
<div>
	&nbsp;</div>
<div>
	number = 0</div>
<div>
	for i from 2 to 5 by 2 then number += i</div>
<div>
	assert number is 6</div>
<div>
	&nbsp;</div>
<div>
	number = 0</div>
<div>
	for i to 3 then number += i</div>
<div>
	assert number is 6</div>
<div>
	&nbsp;</div>
<div>
	number = 0</div>
<div>
	fs = for i til 3</div>
<div>
	&nbsp; let then -&gt; number += i</div>
<div>
	assert number is 0</div>
<div>
	fs.forEach -&gt; do it</div>
<div>
	assert number is 6</div>
<div>
	&nbsp;</div>
<div>
	number = 0</div>
<div>
	do number += 1 while number &lt; 10</div>
<div>
	assert number is 9</div>
<div>
	do number -= 1 until number == 0</div>
<div>
	assert not number</div>
<div>
	while number &lt; 10, ++number</div>
<div>
	assert number == 10</div>
<div>
	while number &lt; 10 ++number else number = 0</div>
<div>
	assert number is 0</div>
<div>
	for ever</div>
<div>
	&nbsp; if ++number &gt;= 10 then break</div>
<div>
	assert number is 10</div>
<div>
	&nbsp;</div>
<div>
	tc = -&gt;</div>
<div>
	&nbsp; switch it</div>
<div>
	&nbsp; case 1 then 2</div>
<div>
	&nbsp; case 3 4 then 5</div>
<div>
	&nbsp; case [6 7] then 8; fallthrough</div>
<div>
	&nbsp; default 9</div>
<div>
	assert tc(1) == 2</div>
<div>
	assert tc(4) == 5</div>
<div>
	assert tc(6) == 9</div>
<div>
	assert tc('nix') == 9</div>
<div>
	&nbsp;</div>
<div>
	tt = -&gt; if it &gt; 0 then that + 10 else that</div>
<div>
	assert tt(1) == 11</div>
<div>
	assert tt(-1) == -1</div>
<div>
	number = 10</div>
<div>
	count = 0</div>
<div>
	while number</div>
<div>
	&nbsp; number -= that</div>
<div>
	&nbsp; count++</div>
<div>
	assert count == 1</div>
<div>
	&nbsp;</div>
<div>
	:pythagoras for a from 1 to 9</div>
<div>
	&nbsp; for b from a to 99</div>
<div>
	&nbsp; &nbsp; h = Math.sqrt a*a + b*b</div>
<div>
	&nbsp; &nbsp; if h % 1 == 0</div>
<div>
	&nbsp; &nbsp; &nbsp; console.log a, b, h</div>
<div>
	&nbsp; &nbsp; &nbsp; continue pythagoras</div>
<div>
	&nbsp;</div>
<div>
	class W</div>
<div>
	&nbsp; a : 1</div>
<div>
	&nbsp; imp : -&gt; import it</div>
<div>
	&nbsp; impall : -&gt; import all it</div>
<div>
	class X extends W</div>
<div>
	&nbsp; b : 2</div>
<div>
	class Y extends W</div>
<div>
	&nbsp; b : 3</div>
<div>
	&nbsp; c : 4</div>
<div>
	x = new X</div>
<div>
	y = new Y</div>
<div>
	y.a = 44</div>
<div>
	x &lt;&lt;&lt; y</div>
<div>
	x.imp y</div>
<div>
	assert x.a == 1 and x.b == 3 and x.c == 4</div>
<div>
	x &lt;&lt;&lt;&lt; y</div>
<div>
	x,impall y</div>
<div>
	assert x.a == 44 and x.b == 3 and x.c == 4</div>
<div>
	&nbsp;</div>
<div>
	p = {0}</div>
<div>
	c = ^p</div>
<div>
	assert p.isPrototypeOf c</div>
<div>
	&nbsp;</div>
<div>
	assert "str" instanceof [Number,String]</div>
<div>
	assert 12 instanceof [Number,String]</div>
<div>
	&nbsp;</div>
<div>
	x = {a:1,b:2}</div>
<div>
	assert (delete x.b) == 2</div>
<div>
	assert x == {a:1}</div>
<div>
	&nbsp;</div>
<div>
	delete nobody</div>
<div>
	nobody !?= 'a'</div>
<div>
	assert nobody!?</div>
<div>
	nobody = 'b'</div>
<div>
	nobody !?= 'a'</div>
<div>
	assert nobody == 'b'</div>
<div>
	&nbsp;</div>
<div>
	assert 3**2 == 9</div>
<div>
	assert (1 &lt;? 2) == 1</div>
<div>
	assert (1 &gt;? 2) == 2</div>
<div>
	&nbsp;</div>
<div>
	assert -[1,2] == [-1,-2]</div>
<div>
	assert ['x'] * 3 == ['x','x','x']</div>
<div>
	assert 'x' * 3 == 'xxx'</div>
<div>
	&nbsp;</div>
<div>
	a = 3</div>
<div>
	a += []</div>
<div>
	assert a = [3]</div>
<div>
	assert (a + 2 + 5) == [3,2,5]</div>
<div>
	&nbsp;</div>
<div>
	a = [1,2,3]</div>
<div>
	assert (a * '-') = '1-2-3'</div>
<div>
	&nbsp;</div>
<div>
	[void, a] = ['x','y']</div>
<div>
	assert a == 'y'</div>
<div>
	&nbsp;</div>
<div>
	assert \\ == '\\'</div>
<div>
	assert \" == '"'</div>
<div>
	assert \word == 'word'</div>
<div>
	&nbsp;</div>
<div>
	assert &lt;[a b c]&gt; == ['a','b','c']</div>
<div>
	a = {x:1,y:2}</div>
<div>
	assert a&lt;[x y]&gt; == [1,2]</div>
<div>
	&nbsp;</div>
<div>
	p = 12; q = 13; o = {a:1,b:2}</div>
<div>
	assert {p, ...o, q} == {p:12, a:1, b:2, q:13}</div>
<div>
	assert {+x, -y} == {x:true, y:false}</div>
<div>
	&nbsp;</div>
<div>
	key :~ (@value) -&gt;</div>
<div>
	key :~ -&gt; @value</div>
<div>
	&nbsp;</div>
<div>
	list =&nbsp;</div>
<div>
	&nbsp; 1</div>
<div>
	&nbsp; 2</div>
<div>
	assert list == [1,2]</div>
<div>
	list = * 3 4</div>
<div>
	assert list == [3,4]</div>
<div>
	dict = * x:1 y:2</div>
<div>
	assert dict == {x:1,y:2}</div>
<div>
	&nbsp;</div>
<div>
	assert [2r101010, 8r52, 26r16] = [42, 42, 42]</div>
<div>
	assert 42_000ms = 42000</div>
<div>
	&nbsp;</div>
<div>
	assert [\a to \c] == ['a','b','c']</div>
<div>
	f = (args...) -&gt; args</div>
<div>
	assert f(1 til 10 by 2) = [1,3,5,7,9]</div>
<div>
	&nbsp;</div>
<div>
	y = 'a'</div>
<div>
	z = 'i'</div>
<div>
	re = //</div>
<div>
	&nbsp; .*</div>
<div>
	&nbsp; #{ y } # normal interpolation</div>
<div>
	&nbsp; #{ z } # sets the flag</div>
<div>
	&nbsp; //?</div>
<div>
	assert re.test('fredA')</div>
<div>
	&nbsp;</div>
<div>
	f = (a,b,c) -&gt; [@@0, @@]</div>
<div>
	assert f(1,2,3) == [1, [1,2,3]]</div>
<div>
	&nbsp;</div>
<div>
	assert @..ce == this.constructor.ce</div>
<div>
	assert .. == this.constructor</div>
<div>
	&nbsp;</div>
<div>
	assert ... == []</div>
<div>
	[first,...,last] = [1,2,3,4]</div>
<div>
	assert first == 1 and last == 4</div>
<div>
	&nbsp;</div>
<div>
	a = 'z'</div>
<div>
	assert a == "#{a}" and a == "#a"</div>
<div>
	&nbsp;</div>
<div>
	f = (a...) -&gt; a</div>
<div>
	assert (f 1 'a' true) == [1,'a',true]</div>
<div>
	&nbsp;</div>
<div>
	x = {a:1, b:2}</div>
<div>
	assert 1 in x</div>
<div>
	assert true is not false</div>
<div>
	&nbsp;</div>
<div>
	Account = (cust, car) -&gt;</div>
<div>
	&nbsp; @customer = cust</div>
<div>
	&nbsp; @cart = cart</div>
<div>
	&nbsp; binder: (name) ~&gt; @customer = name&nbsp;</div>
<div>
	a = new Account('tim',0)</div>
<div>
	a.binder('fred')</div>
<div>
	assert a.customer = 'fred'</div>
<div>
	&nbsp;</div>
</div>
<div id="s2" class="editable section footer synopsis" contextmenu="section">
	<div>
		<a class="usdlc" href="../index.html" id="s2a3" action="page">Parent</a>
		-
		<a class="usdlc" href="Setup.groovy" id="s2a0" action="runnable">Setup</a>
		-
		<a class="usdlc" href="Cleanup.groovy" id="s2a0" action="runnable">Cleanup</a>
	</div>
</div>
