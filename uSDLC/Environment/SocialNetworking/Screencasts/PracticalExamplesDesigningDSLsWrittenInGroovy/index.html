<div id="pageTitle" class="editable" uuid="1bb1c5e2-2e0d-4520-8394-f0d937b4c9b6">
 <h1> Practical examples designing DSLs written in Groovy</h1>
 <h2> Create a flexible DSL solution to a data migration problem</h2>
</div>
<div id="s4" class="editable section">
 <p> <strong>Creating a flexible DSL solution to a data migration problem</strong><br /> A screencast written for the GR8 Australia conference in Canberra, November 15, 2011.</p>
</div>
<div id="s1" class="editable section">
 <table cellpadding="0" class="Bs nH iY" style="position: relative; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-collapse: collapse; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255);">
  <tbody>
   <tr>
    <td class="Bu" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; font-family: arial, sans-serif; vertical-align: top; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">
     <div class="nH if" style="padding-top: 0px; padding-right: 0px; padding-bottom: 1px; padding-left: 0px; ">
      <div class="nH">
       <div class="nH hx" style="color: rgb(0, 0, 0); padding-top: 4px; padding-right: 8px; padding-bottom: 4px; padding-left: 8px; ">
        <div class="nH">
         <div class="h7  " style="clear: both; padding-bottom: 0px; ">
          <div class="Bk" style="position: relative; margin-bottom: 10px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(239, 239, 239); border-right-color: rgb(239, 239, 239); border-left-color: rgb(239, 239, 239); border-bottom-color: rgb(226, 226, 226); border-top-width: 0px; border-top-left-radius: 7px 7px; border-top-right-radius: 7px 7px; border-bottom-right-radius: 7px 7px; border-bottom-left-radius: 7px 7px; width: 617px; ">
           <div class="G3 G2" style="padding-top: 3px; background-color: rgb(255, 255, 255); border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-right-color: rgb(188, 188, 188); border-bottom-color: rgb(188, 188, 188); border-left-color: rgb(188, 188, 188); border-top-width: 1px; border-top-style: solid; border-top-color: rgb(188, 188, 188); border-top-left-radius: 7px 7px; border-top-right-radius: 7px 7px; border-bottom-right-radius: 7px 7px; border-bottom-left-radius: 7px 7px; ">
            <div>
             <div id=":124">
              <div class="HprMsc mNrSre">
               <div class="gs">
                <div class="ii gt" id=":126" style="font-size: 13px; margin-top: 5px; margin-right: 15px; margin-bottom: 5px; margin-left: 15px; padding-bottom: 20px; position: relative; z-index: 2; ">
                 <div id=":125">
                  <div style="word-wrap: break-word; ">
                   <div>
                    <ul style="color: rgb(110, 113, 115); font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif; font-size: 13px; line-height: 15px; background-color: rgb(255, 255, 255); ">
                     <li style="margin-left: 15px; "> Your Name: Paul Marrington.</li>
                     <li style="margin-left: 15px; "> Bio (a bit about yourself): I have been developing software for over 30 years with only a couple of small forays into management. I wrote my first DSL in 1982 for SMEC.</li>
                     <li style="margin-left: 15px; "> Twitter name (if you have one): paul_marrington</li>
                     <li style="margin-left: 15px; "> Title of Talk: Practical examples designing DSLs written in Groovy.</li>
                     <li style="margin-left: 15px; "> Talk Abstract: We all know and love the big DSLs, but how can we leverage the power of Groovy to create domain specific languages in our own projects? In this talk I will walk through some examples of how to harness groovy power for teams there to get a job done. In this talk I will create a flexible DSL solution to a data migration problem.</li>
                     <li style="margin-left: 15px; "> Length of talk: 20min + 5 min Q&amp;A, 45min + 10min Q&amp;A or feel free to suggest another format (eg. longer tutorial): 45 min + 10 min Q&amp;A</li>
                    </ul>
                   </div>
                  </div>
                 </div>
                </div>
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div> </td>
   </tr>
  </tbody>
 </table>
</div>
<div id="s3" class="editable section synopsis">
 <h3> <a href="CreateTheBrief.screencast" id="s3a0" class="usdlc sourceLinkfailed" action="runnable">Create the Brief</a></h3>
</div>
<div id="s5" class="editable section synopsis">
 <h3> <a action="runnable" class="usdlc sourceLink succeeded" href="CreateTheBreakdown.screencast" id="s5a0">Create the Breakdown</a></h3>
</div>
<div id="s7" class="editable section synopsis">
 <h3> <a href="CSVBrief.screencast" id="s7a0" class="usdlc sourceLink succeeded" action="runnable">CSV Brief</a></h3>
</div>
<div id="s8" class="editable section synopsis">
 <h3> <a class="usdlc sourceLink succeeded" href="DSLSupport.screencast" id="s8a0" action="runnable">DSL Support</a></h3>
 <p> The clearest difference between a library and an internal DSL written in Groovy is the&nbsp;lack of scaffolding in the latter. Functionality for a DSL can all reside in script code&nbsp;that runs in the same binding as the target DSL script. In practice I prefer to separate&nbsp;DSL support by having scaffolding in the supporting code and logic in underlying classes.</p>
</div>
<div id="s9" class="editable section synopsis">
 <h3> <a class="usdlc sourceLink succeeded" href="UnderlyingFunctionality.screencast" id="s9a0" action="runnable">Underlying Functionality</a></h3>
 <p> It is alway best to find existing open source code to do the work. By writing a wrapper it can be both more DSL friendly and better understood. Note that I have linked to the open source site for convenience and adding an import to our wrapper.</p>
</div>
<div id="s10" class="editable section synopsis">
 <h3> <a class="usdlc sourceLink succeeded" href="SampleData.screencast" id="s10a0" action="runnable">Sample Data</a></h3>
 <p> We may need to add more samples are we progress, but this can be a starting point.</p>
</div>
<div id="s13" class="editable section synopsis">
 <h3> <a class="usdlc sourceLink succeeded" href="ReferencingADSL.screencast" id="s13a0" action="runnable">Referencing a DSL</a></h3>
 <p> uSDLC will load a DSL scaffold if the file has the same extension as the scaffold or if explicitly defined with the dsl command.</p>
</div>
<div id="s11" class="editable section synopsis">
 <h3> <a href="CSVLoader.screencast" id="s11a0" class="usdlc sourceLink succeeded" action="runnable">CSV Loader</a></h3>
 <p> To reduce the risk of over-engineering, write the tests first.</p>
</div>
<div id="s12" class="editable section synopsis">
 <h3> <a href="CSVIterator.screencast" id="s12a0" class="usdlc sourceLink succeeded" action="runnable">CSV Iterator</a></h3>
 <p> Large files may not fit in memory.</p>
</div>
<div id="s14" class="editable section synopsis">
 <h3> <a class="usdlc sourceLink succeeded" href="CSVScaffolding.screencast" id="s14a0" action="runnable">CSV Scaffolding</a></h3>
 <p> The CSV DSL is as simple as a DSL gets - one command with two variations.</p>
</div>
<div id="s15" class="editable section synopsis">
 <h3> <a href="CSVSupportClass.screencast" id="s15a0" class="usdlc sourceLink succeeded" action="runnable">CSV Support Class</a></h3>
</div>
<div id="s16" class="editable section synopsis">
 <h3> <a class="usdlc sourceLink succeeded" href="CSVTesting.screencast" id="s16a0" action="runnable">CSV Testing</a></h3>
</div>
<div id="s17" class="editable section synopsis">
 <h3> <a class="usdlc sourceLink succeeded" href="CSVToDatabase.screencast" id="s17a0" action="runnable">SQL DSL</a></h3>
 <p> Normally I would place the scaffold and support classes in the project source tree and just reference them from here. For spikes and screencasts it is more convenient to place them in the uSDLC document tree.</p>
</div>
<div id="s18" class="editable section synopsis">
 <h3> <a href="DatabaseReference.screencast" id="s18a0" class="usdlc sourceLink succeeded" action="runnable">Database Reference</a></h3>
 <p> Because uSDLC uses databases elsewhere, the referencing is more complete than needed by basic migration.</p>
</div>
<div id="s19" class="editable section synopsis">
 <h3> <a action="runnable" class="usdlc sourceLink succeeded" href="SampleData2.screencast" id="s19a0">Sample Data</a></h3>
</div>
<div id="s20" class="editable section synopsis">
 <h3> <a href="SetupTable.screencast" id="s20a0" class="usdlc sourceLink succeeded" action="runnable">Setup Table</a></h3>
 <p> You may have noticed Setup and Cleanup links in the footer. Use these for code to happen before and after a run.</p>
</div>
<div id="s21" class="editable section synopsis">
 <h3> <a class="usdlc sourceLink succeeded" href="SimpleQuery.screencast" id="s21a0" action="runnable">Simple Query</a></h3>
 <p> If we wrapped everything in database closure then the DSL would be done, but ...</p>
</div>
<div id="s22" class="editable section synopsis">
 <h3> <a href="Implementation101.screencast" id="s22a0" class="usdlc sourceLink succeeded" action="runnable">Implementation 101</a></h3>
</div>
<div id="s23" class="editable section synopsis">
 <h3> <a href="Finals.screencast" id="s23a0" class="usdlc sourceLink succeeded" action="runnable">Finals</a></h3>
</div>
<div id="s2" class="editable section footer synopsis">
 <div>
  <a class="usdlc" href="../" id="s2a3" action="page">Parent</a> -
  <a class="usdlc succeeded" href="Setup.groovy" id="s2a0" action="runnable">Setup</a> -
		<a href="javascript:usdlc.moreFooter()" id="s2a7">more...</a>
 </div>
</div>
